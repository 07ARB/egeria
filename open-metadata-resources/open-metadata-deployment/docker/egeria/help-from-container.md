% ubi8/openjdk-11 (1) Container Image Pages
% Red Hat OpenJDK <openjdk@redhat.com>
% July 21, 2020
# `ubi8/openjdk-11:1.3`

Image help page for the `ubi8/openjdk-11:1.3` container image.

> This file contains autogenerated content based on the image descriptor.

This image is based on the `ubi8-minimal:8-released` image.

## Description

Source To Image (S2I) image for Red Hat OpenShift providing OpenJDK 11


## Environment variables

Environment variables can be divided into two categories:

1. **Configuration environment variables**

    Configuration environment variables are used to configure services inside running container. These
    **do not have** default values in the container image and are supposed to be set at container runtime.

    Environment variables listed below without the *value* section are configuration environment variables.
2. **Environment variables with default values**

    Environment variables with default values are already set in the container image byt he image author.
    Depending on the environment variable it may be possible to customize it, but in many cases
    these are not meant to be modified.

    Environment variables listed below containing the *value* section are configuration environment variables.

### `AB_JOLOKIA_AUTH_OPENSHIFT`

**Description**

Switch on client authentication for OpenShift TLS communication. The value of this parameter can be a relative distinguished name which must be contained in a presented client's certificate. Enabling this parameter will automatically switch Jolokia into https communication mode. The default CA cert is set to `/var/run/secrets/kubernetes.io/serviceaccount/ca.crt`.

**Value**

true

### `AB_JOLOKIA_CONFIG`

**Description**

If set uses this file (including path) as Jolokia JVM agent properties (as described in Jolokia's link:https://www.jolokia.org/reference/html/agents.html#agents-jvm[reference manual]). If not set, the `/opt/jolokia/etc/jolokia.properties` will be created using the settings as defined in the manual. Otherwise the rest of the settings in this document are ignored.

**Example**

    /opt/jolokia/custom.properties

### `AB_JOLOKIA_DISCOVERY_ENABLED`

**Description**

Enable Jolokia discovery. Defaults to **false**.

**Example**

    true

### `AB_JOLOKIA_HOST`

**Description**

Host address to bind to. Defaults to **0.0.0.0**.

**Example**

    127.0.0.1

### `AB_JOLOKIA_HTTPS`

**Description**

Switch on secure communication with https. By default self signed server certificates are generated if no `serverCert` configuration is given in **AB_JOLOKIA_OPTS**.

**Value**

true

### `AB_JOLOKIA_ID`

**Description**

Agent ID to use (`$HOSTNAME` by default, which is the container id).

**Example**

    openjdk-app-1-xqlsj

### `AB_JOLOKIA_OFF`

**Description**

If set disables activation of Joloka (i.e. echos an empty value). By default, Jolokia is enabled.

**Example**

    true

### `AB_JOLOKIA_OPTS`

**Description**

Additional options to be appended to the agent configuration. They should be given in the format `key=value,key=value,...`.

**Example**

    backlog=20

### `AB_JOLOKIA_PASSWORD`

**Description**

Password for basic authentication. By default authentication is switched off.

**Example**

    mypassword

### `AB_JOLOKIA_PASSWORD_RANDOM`

**Description**

Determines if a random AB_JOLOKIA_PASSWORD be generated. Set to **true** to generate random password. Generated value will be written to `/opt/jolokia/etc/jolokia.pw`.

**Value**

true

### `AB_JOLOKIA_PORT`

**Description**

Port to listen to. Defaults to **8778**.

**Example**

    5432

### `AB_JOLOKIA_USER`

**Description**

User for basic authentication. Defaults to **jolokia**.

**Example**

    myusername

### `AB_PROMETHEUS_ENABLE`

**Description**

Enable the use of the Prometheus agent

**Example**

    True

### `AB_PROMETHEUS_JMX_EXPORTER_CONFIG`

**Description**

Path to configuration to use for the Prometheus JMX Exporter

**Value**

/opt/jboss/container/prometheus/etc/jmx-exporter-config.yaml

### `AB_PROMETHEUS_JMX_EXPORTER_PORT`

**Description**

Port to use for the Prometheus JMX Exporter.

**Example**

    9799

### `APP_DATADIR`

**Description**

Deprecated by **S2I_SOURCE_DATA_DIR**.

### `ARTIFACT_DIR`

**Description**

Deprecated by **MAVEN_S2I_ARTIFACT_DIRS**.

### `CONTAINER_CORE_LIMIT`

**Description**

A calculated core limit as described in https://www.kernel.org/doc/Documentation/scheduler/sched-bwc.txt.

**Example**

    2

### `CONTAINER_MAX_MEMORY`

**Description**

Memory limit given to the container.

**Example**

    1024

### `CUSTOM_INSTALL_DIRECTORIES`

**Description**

Deprecated by **S2I_IMAGE_SOURCE_MOUNTS**.

### `DATA_DIR`

**Description**

Deprecated by **S2I_TARGET_DATA_DIR**.

### `DEPLOYMENTS_DIR`

**Description**

Deprecated by **S2I_TARGET_DEPLOYMENTS_DIR**.

### `GC_ADAPTIVE_SIZE_POLICY_WEIGHT`

**Description**

The weighting given to the current GC time versus previous GC times.

**Example**

    90

### `GC_CONTAINER_OPTIONS`

**Description**

specify Java GC to use. The value of this variable should contain the necessary JRE command-line options to specify the required GC, which will override the default of `-XX:+UseParallelOldGC`.

**Example**

    -XX:+UseG1GC

### `GC_MAX_HEAP_FREE_RATIO`

**Description**

Maximum percentage of heap free after GC to avoid shrinking.

**Example**

    40

### `GC_MAX_METASPACE_SIZE`

**Description**

The maximum metaspace size.

**Example**

    100

### `GC_METASPACE_SIZE`

**Description**

The initial metaspace size.

**Example**

    20

### `GC_MIN_HEAP_FREE_RATIO`

**Description**

Minimum percentage of heap free after GC to avoid expansion.

**Example**

    20

### `GC_TIME_RATIO`

**Description**

Specifies the ratio of the time spent outside the garbage collection (for example, the time spent for application execution) to the time spent in the garbage collection.

**Example**

    4

### `HOME`

**Value**

/home/jboss

### `HTTPS_PROXY`

**Description**

The location of the https proxy. This takes precedence over **http_proxy** and **HTTP_PROXY**, and will be used for both Maven builds and Java runtime.

**Example**

    myuser@127.0.0.1:8080

### `HTTP_PROXY`

**Description**

The location of the http proxy. This will be used for both Maven builds and Java runtime.

**Example**

    127.0.0.1:8080

### `JAVA_APP_DIR`

**Description**

^ The directory where the application resides. All paths in your application are relative to this directory.

**Example**

    myapplication/

### `JAVA_ARGS`

**Description**

Arguments passed to the `java` application.

### `JAVA_CLASSPATH`

**Description**

^ The classpath to use. If not given, the startup script checks for a file `**JAVA_APP_DIR/classpath**` and use its content literally as classpath. If this file doesn't exists all jars in the app dir are added (`classes:**JAVA_APP_DIR/***`).

### `JAVA_DATA_DIR`

**Description**

Deprecated by **S2I_TARGET_DATA_DIR**.

### `JAVA_DATA_DIR`

**Description**

^ The location of the directory which should be used by the application for reading/writing application data.  Users should override the default if their application should use a different directory, e.g. if a persistent volume is used to persist data across restarts.

**Value**

/deployments/data

**Example**

    /var/cache/application

### `JAVA_DEBUG`

**Description**

If set remote debugging will be switched on. **Disabled by default.**

**Example**

    true

### `JAVA_DEBUG_PORT`

**Description**

Port used for remote debugging. Defaults to *5005*.

**Example**

    8787

### `JAVA_DIAGNOSTICS`

**Description**

Set this to get some diagnostics information to standard output when things are happening. **Disabled by default.**

**Example**

    true

### `JAVA_HOME`

**Value**

/usr/lib/jvm/java-11

### `JAVA_INITIAL_MEM_RATIO`

**Description**

Is used when no `-Xms` option is given in **JAVA_OPTS**. This is used to calculate a default initial heap memory based on the maximum heap memory. If used in a container without any memory constraints for the container then this option has no effect. If there is a memory constraint then `-Xms` is set to a ratio of the `-Xmx` memory as set here. The default is `25` which means 25% of the `-Xmx` is used as the initial heap size. You can skip this mechanism by setting this value to `0` in which case no `-Xms` option is added.

**Example**

    25

### `JAVA_LIB_DIR`

**Description**

^ Directory holding the Java jar files as well an optional `classpath` file which holds the classpath. Either as a single line classpath (colon separated) or with jar files listed line-by-line. If not set **JAVA_LIB_DIR** is the same as **JAVA_APP_DIR**.

### `JAVA_MAIN_CLASS`

**Description**

^ A main class to use as argument for `java`. When this environment variable is given, all jar files in **JAVA_APP_DIR** are added to the classpath as well as **JAVA_LIB_DIR**.

**Example**

    com.example.MainClass

### `JAVA_MAX_INITIAL_MEM`

**Description**

Is used when no `-Xms` option is given in **JAVA_OPTS**. This is used to calculate the maximum value of the initial heap memory. If used in a container without any memory constraints for the container then this option has no effect. If there is a memory constraint then `-Xms` is limited to the value set here. The default is 4096Mb which means the calculated value of `-Xms` never will be greater than 4096Mb. The value of this variable is expressed in MB.

**Example**

    4096

### `JAVA_MAX_MEM_RATIO`

**Description**

Is used when no `-Xmx` option is given in **JAVA_OPTS**. This is used to calculate a default maximal heap memory based on a containers restriction. If used in a container without any memory constraints for the container then this option has no effect. If there is a memory constraint then `-Xmx` is set to a ratio of the container available memory as set here. The default is `50` which means 50% of the available memory is used as an upper boundary. You can skip this mechanism by setting this value to `0` in which case no `-Xmx` option is added.

### `JAVA_OPTIONS`

**Description**

JVM options passed to the `java` command.  Use **JAVA_OPTS**.

**Example**

    -verbose:class

### `JAVA_OPTS`

**Description**

JVM options passed to the `java` command.

**Example**

    -verbose:class

### `JAVA_OPTS_APPEND`

**Description**

User specified Java options to be appended to generated options in JAVA_OPTS.

**Example**

    -Dsome.property=foo

### `JAVA_VENDOR`

**Value**

openjdk

### `JAVA_VERSION`

**Value**

11

### `JBOSS_CONTAINER_JAVA_JVM_MODULE`

**Value**

/opt/jboss/container/java/jvm

### `JBOSS_CONTAINER_JAVA_PROXY_MODULE`

**Value**

/opt/jboss/container/java/proxy

### `JBOSS_CONTAINER_JAVA_RUN_MODULE`

**Value**

/opt/jboss/container/java/run

### `JBOSS_CONTAINER_JAVA_S2I_MODULE`

**Value**

/opt/jboss/container/java/s2i

### `JBOSS_CONTAINER_JOLOKIA_MODULE`

**Value**

/opt/jboss/container/jolokia

### `JBOSS_CONTAINER_MAVEN_36_MODULE`

**Value**

/opt/jboss/container/maven/36/

### `JBOSS_CONTAINER_MAVEN_DEFAULT_MODULE`

**Value**

/opt/jboss/container/maven/default/

### `JBOSS_CONTAINER_MAVEN_S2I_MODULE`

**Value**

/opt/jboss/container/maven/s2i

### `JBOSS_CONTAINER_OPENJDK_JDK_MODULE`

**Value**

/opt/jboss/container/openjdk/jdk

### `JBOSS_CONTAINER_PROMETHEUS_MODULE`

**Value**

/opt/jboss/container/prometheus

### `JBOSS_CONTAINER_S2I_CORE_MODULE`

**Value**

/opt/jboss/container/s2i/core/

### `JBOSS_CONTAINER_UTIL_LOGGING_MODULE`

**Value**

/opt/jboss/container/util/logging/

### `JBOSS_IMAGE_NAME`

**Value**

ubi8/openjdk-11

### `JBOSS_IMAGE_VERSION`

**Value**

1.3

### `JOLOKIA_VERSION`

**Description**

Version of Jolokia being used.

**Value**

1.6.2

### `LOGGING_SCRIPT_DEBUG`

**Description**

Set to true to enable script debugging.  Deprecates SCRIPT_DEBUG.

**Example**

    True

### `MAVEN_ARGS`

**Description**

Arguments to use when calling Maven, replacing the default `package hawt-app:build -DskipTests -e`. Please be sure to run the `hawt-app:build` goal (when not already bound to the `package` execution phase), otherwise the startup scripts won't work.

**Example**

    -e -Popenshift -DskipTests -Dcom.redhat.xpaas.repo.redhatga package

### `MAVEN_ARGS_APPEND`

**Description**

Additional Maven arguments.

**Example**

    -X -am -pl

### `MAVEN_CLEAR_REPO`

**Description**

If set then the Maven repository is removed after the artifact is built. This is useful for keeping the created application image small, but prevents *incremental* builds. Will be overridden by **S2I_ENABLE_INCREMENTAL_BUILDS**.  Defaults to *false*.

### `MAVEN_LOCAL_REPO`

**Description**

Directory to use as the local Maven repository.

**Example**

    /home/jboss/.m2/repository

### `MAVEN_MIRRORS`

**Description**

If set, multi-mirror support is enabled, and other MAVEN_MIRROR_* variables will be prefixed. For example: DEV_ONE_MAVEN_MIRROR_URL and QE_TWO_MAVEN_MIRROR_URL

**Example**

    dev-one,qe-two

### `MAVEN_MIRROR_URL`

**Description**

The base URL of a mirror used for retrieving artifacts.

**Example**

    http://10.0.0.1:8080/repository/internal/

### `MAVEN_REPOS`

**Description**

If set, multi-repo support is enabled, and other MAVEN_REPO_* variables will be prefixed. For example: DEV_ONE_MAVEN_REPO_URL and QE_TWO_MAVEN_REPO_URL

**Example**

    dev-one,qe-two

### `MAVEN_REPO_LOCAL`

**Description**

^ **DEPRECATED, use MAVEN_LOCAL_REPO** Directory to use as the local Maven repository.

**Example**

    /home/jboss/.m2

### `MAVEN_S2I_ARTIFACT_DIRS`

**Description**

Relative paths of source directories to scan for build output, which will be copied to $DEPLOY_DIR.  Defaults to **target**


**Example**

    target

### `MAVEN_S2I_GOALS`

**Description**

Space separated list of goals to be executed with maven build, e.g. mvn $MAVEN_S2I_GOALS.  Defaults to **package**


**Example**

    package install

### `MAVEN_SETTINGS_XML`

**Description**

Location of custom Maven settings.xml file to use.

**Example**

    /home/jboss/.m2/settings.xml

### `MAVEN_VERSION`

**Value**

3.6

### `NO_PROXY`

**Description**

A comma separated lists of hosts, IP addresses or domains that can be accessed directly. This will be used for both Maven builds and Java runtime.

**Example**

    foo.example.com,bar.example.com

### `PATH`

**Value**

$PATH:"/usr/local/s2i"

### `S2I_ARTIFACTS_DIR`

**Description**

^ Location mount for artifacts persisted with **save-artifacts** script, which are used with incremental builds.  This should not be overridden by end users.

**Example**

    ${S2I_DESTINATION_DIR}/artifacts}

### `S2I_DESTINATION_DIR`

**Description**

^ Root directory for S2I mount, as specified by the **io.openshift.s2i.destination** label.  This should not be overridden by end users.

**Example**

    /tmp

### `S2I_ENABLE_INCREMENTAL_BUILDS`

**Description**

^ Do not remove source and intermediate build files so they can be saved for use with future builds.  Defaults to true.

**Example**

    true

### `S2I_IMAGE_SOURCE_MOUNTS`

**Description**

^ Comma separated list of relative paths in source directory which should be included in the image.  List may include wildcards, which are expanded using find.  By default, the contents of mounted directories are processed similarly to source folders, where the contents of $S2I_SOURCE_CONFIGURATION_DIR, $S2I_SOURCE_DATA_DIR, and $S2I_SOURCE_DEPLOYMENTS_DIR are copied to their respective target directories.  Alternatively, if an **install.sh** file is located in the root of the mount point, it is executed instead.  Deprecates CUSTOM_INSTALL_DIRECTORIES.

**Example**

    extras/*

### `S2I_SOURCE_CONFIGURATION_DIR`

**Description**

^ Relative path to directory containing application configuration files to be copied over to the product configuration directory, see **S2I_TARGET_CONFIGURATION_DIR**.  Defaults to **configuration**.

**Example**

    configuration

### `S2I_SOURCE_DATA_DIR`

**Description**

^ Relative path to directory containing application data files to be copied over to the product data directory, see **S2I_TARGET_DATA_DIR**.  Defaults to **data**.

**Example**

    data

### `S2I_SOURCE_DEPLOYMENTS_DIR`

**Description**

^ Relative path to directory containing binary files to be copied over to the product deployment directory, see **S2I_TARGET_DEPLOYMENTS_DIR**.  Defaults to **deployments**.

**Example**

    deployments

### `S2I_SOURCE_DEPLOYMENTS_FILTER`

**Description**

Space separated list of filters to be applied when copying deployments. Defaults to ** * **


**Value**

*

**Example**

    *.jar *.war *.ear

### `S2I_SOURCE_DEPLOYMENTS_FILTER`

**Value**

*.jar

### `S2I_SOURCE_DIR`

**Description**

^ Location of mount for source code to be built.  This should not be overridden by end users.

**Example**

    ${S2I_DESTINATION_DIR}/src}

### `S2I_TARGET_CONFIGURATION_DIR`

**Description**

^ Absolute path to which files located in $S2I_SOURCE_DIR/$S2I_SOURCE_CONFIGURATION_DIR are copied.

**Example**

    /opt/eap/standalone/configuration

### `S2I_TARGET_DATA_DIR`

**Description**

^ Absolute path to which files located in $S2I_SOURCE_DIR/$S2I_SOURCE_DATA_DIR are copied.

**Example**

    /opt/eap/standalone/data

### `S2I_TARGET_DEPLOYMENTS_DIR`

**Description**

^ Absolute path to which files located in $S2I_SOURCE_DIR/$S2I_SOURCE_DEPLOYMENTS_DIR are copied. Additionally, this is the directory to which build output is copied

**Example**

    /deployments

### `http_proxy`

**Description**

The location of the http proxy. This takes precedence over **HTTP_PROXY** and will be used for both Maven builds and Java runtime.

**Example**

    http://127.0.0.1:8080

### `https_proxy`

**Description**

The location of the https proxy. This takes precedence over **HTTPS_PROXY**, **http_proxy**, and **HTTP_PROXY**, and will be used for both Maven builds and Java runtime.

**Example**

    myuser:mypass@127.0.0.1:8080

### `no_proxy`

**Description**

A comma separated lists of hosts, IP addresses or domains that can be accessed directly. This takes precedence over **NO_PROXY** and will be used for both Maven builds and Java runtime.

**Example**

    *.example.com

### `prefix_MAVEN_MIRROR_ID`

**Description**

ID to be used for the specified mirror.  If ommitted, a unique ID will be generated.

**Example**

    internal-mirror

### `prefix_MAVEN_MIRROR_OF`

**Description**

Repository IDs mirrored by this entry.  Defaults to external:*

### `prefix_MAVEN_MIRROR_URL`

**Description**

The URL of the mirror.

**Example**

    http://10.0.0.1:8080/repository/internal

### `prefix_MAVEN_REPO_DIRECTORY_PERMISSIONS`

**Description**

Maven repository directory permissions

**Example**

    775

### `prefix_MAVEN_REPO_FILE_PERMISSIONS`

**Description**

Maven repository file permissions

**Example**

    664

### `prefix_MAVEN_REPO_HOST`

**Description**

Maven repository host (if not using fully defined url; will fallback to service)

**Example**

    repo.example.com

### `prefix_MAVEN_REPO_ID`

**Description**

Maven repository id

**Example**

    my-repo-id

### `prefix_MAVEN_REPO_LAYOUT`

**Description**

Maven repository layout

**Example**

    default

### `prefix_MAVEN_REPO_NAME`

**Description**

Maven repository name

**Example**

    my-repo-name

### `prefix_MAVEN_REPO_PASSPHRASE`

**Description**

Maven repository passphrase

**Example**

    maven1!

### `prefix_MAVEN_REPO_PASSWORD`

**Description**

Maven repository password

**Example**

    maven1!

### `prefix_MAVEN_REPO_PATH`

**Description**

Maven repository path (if not using fully defined url; will fallback to service)

**Example**

    /maven2/

### `prefix_MAVEN_REPO_PORT`

**Description**

Maven repository port (if not using fully defined url; will fallback to service)

**Example**

    8080

### `prefix_MAVEN_REPO_PRIVATE_KEY`

**Description**

Maven repository private key

**Example**

    ${user.home}/.ssh/id_dsa

### `prefix_MAVEN_REPO_PROTOCOL`

**Description**

Maven repository protocol (if not using fully defined url; will fallback to service)

**Example**

    http

### `prefix_MAVEN_REPO_RELEASES_CHECKSUM_POLICY`

**Description**

Maven repository releases checksum policy

**Example**

    warn

### `prefix_MAVEN_REPO_RELEASES_ENABLED`

**Description**

Maven repository releases enabled

**Example**

    true

### `prefix_MAVEN_REPO_RELEASES_UPDATE_POLICY`

**Description**

Maven repository releases update policy

**Example**

    always

### `prefix_MAVEN_REPO_SERVICE`

**Description**

Maven repository service to lookup if prefix_MAVEN_REPO_URL not specified

**Example**

    buscentr-myapp

### `prefix_MAVEN_REPO_SNAPSHOTS_CHECKSUM_POLICY`

**Description**

Maven repository snapshots checksum policy

**Example**

    warn

### `prefix_MAVEN_REPO_SNAPSHOTS_ENABLED`

**Description**

Maven repository snapshots enabled

**Example**

    true

### `prefix_MAVEN_REPO_SNAPSHOTS_UPDATE_POLICY`

**Description**

Maven repository snapshots update policy

**Example**

    always

### `prefix_MAVEN_REPO_URL`

**Description**

Maven repository url (fully defined)

**Example**

    http://repo.example.com:8080/maven2/

### `prefix_MAVEN_REPO_USERNAME`

**Description**

Maven repository username

**Example**

    mavenUser


## Labels

### `com.redhat.component`

**Value**

    openjdk-11-ubi8-container

### `com.redhat.license_terms`

**Value**

    https://www.redhat.com/en/about/red-hat-end-user-license-agreements#UBI

### `description`

**Value**

    Source To Image (S2I) image for Red Hat OpenShift providing OpenJDK 11

### `io.cekit.version`

**Value**

    3.6.0

### `io.fabric8.s2i.version.jolokia`

**Value**

    1.6.2-redhat-00002

### `io.fabric8.s2i.version.maven`

**Value**

    3.6

### `io.k8s.description`

**Value**

    Platform for building and running plain Java applications (fat-jar and flat classpath)

### `io.k8s.display-name`

**Value**

    Java Applications

### `io.openshift.s2i.destination`

**Value**

    /tmp

### `io.openshift.s2i.scripts-url`

**Value**

    image:///usr/local/s2i

### `io.openshift.tags`

**Value**

    builder,java

### `maintainer`

**Value**

    Red Hat OpenJDK <openjdk@redhat.com>

### `name`

**Value**

    ubi8/openjdk-11

### `org.jboss.container.deployments-dir`

**Value**

    /deployments

### `org.jboss.product`

**Value**

    openjdk

### `org.jboss.product.openjdk.version`

**Value**

    11

### `org.jboss.product.version`

**Value**

    11

### `summary`

**Value**

    Source To Image (S2I) image for Red Hat OpenShift providing OpenJDK 11

### `usage`

**Value**

    https://access.redhat.com/documentation/en-us/red_hat_jboss_middleware_for_openshift/3/html/red_hat_java_s2i_for_openshift/

### `version`

**Value**

    1.3


## Container runtime

Container will run as `185` user.

There is no entrypoint specified for the container.

Command to execute when the container starts:

    /usr/local/s2i/run

Defined working directory:

    /home/jboss

### Published ports

Following ports are defined in the image:

* `8080`
* `8443`

### Volumes

There are no volumes defined.
